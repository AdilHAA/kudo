# Прогнозирование продаж с использованием AutoGluon TimeSeries

Данный проект представляет собой решение для прогнозирования продаж с использованием передовых методов машинного обучения от AutoGluon TimeSeries, а также других подходов к прогнозированию временных рядов.

## Структура каталогов

```
├── data/              # Каталог для хранения данных
│   ├── final_df_latest2.parquet    # Исходные данные о продажах (большой файл)
│   ├── denied.parquet              # Данные о неудавшихся продажах (большой файл)
│   └── ...
├── models/            # Сохраненные модели AutoGluon и других алгоритмов
│   ├── autogluon_model_final_price/
│   └── autogluon_model_quantity/
├── results/           # Результаты анализа и прогнозирования
│   ├── forecast_average_final_price.parquet
│   ├── forecast_average_quantity.parquet
│   ├── top_clients.parquet
│   └── top_skus.parquet
├── scripts/           # Скрипты запуска и управления
│   ├── main.py        # Основной скрипт анализа
│   └── run.py         # Скрипт для настройки окружения и запуска
├── src/               # Исходный код модулей
│   ├── data_processing.py  # Модуль обработки данных
│   └── forecasting.py      # Модуль прогнозирования
├── docs/              # Документация
├── .gitignore         # Файлы, игнорируемые Git
├── setup.py           # Скрипт установки зависимостей
└── README.md          # Этот файл
```

## Установка и запуск

1. Убедитесь, что Python 3.8+ установлен в вашей системе

2. Склонируйте репозиторий:
   ```
   git clone <url_репозитория>
   cd имя_каталога
   ```

3. Запустите скрипт установки и анализа:
   ```
   python scripts/run.py
   ```

   Этот скрипт:
   - Создаст виртуальное окружение
   - Установит все необходимые зависимости
   - Запустит процесс анализа и прогнозирования

## Функциональность

Основные возможности системы:

- Загрузка и предобработка данных о продажах
- Расчет потенциальных продаж на основе отказов
- Прогнозирование продаж методами:
  - AutoGluon TimeSeries (лучшее качество)
  - Prophet
  - XGBoost
  - и другими
- Агрегация и анализ по различным измерениям (категории, регионы и т.д.)
- Определение топ-клиентов и топ-товаров

## Ключевые особенности

- Прогнозирование до 150 SKU одновременно
- Разделение прогнозов выручки и количества
- Использование наивысшего качества модели AutoGluon
- Гибкость в выборе периода прогнозирования
- Продвинутая агрегация результатов

## Конфигурация

Основные параметры можно изменить в файле `scripts/main.py`:

- `forecast_method` - выбор метода прогнозирования ('autogluon', 'prophet', 'xgboost', 'average')
- `target_variables` - переменные для прогнозирования (['final_price', 'quantity'])
- Количество SKU для анализа можно изменить в параметрах

## Результаты

После выполнения анализа результаты будут сохранены в каталоге `results/` в формате Parquet для эффективного использования. 